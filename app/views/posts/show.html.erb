<div class="flex flex-col gap-5">
  <article class="border flex flex-col p-3 gap-3">
    <div class="flex justify-between items-baseline">
      <h1 class="text-2xl"><%= @post.title %></h1>
      <p class="text-sm">
        <%= "Comments: #{@post.comments_counter || 0}, Likes: #{@post.likes_counter || 0 }" %>
      </p>
    </div>
    <p><%= @post.text %></p>
    <div class="flex justify-end">
      <%= button_to user_post_likes_path(@post.author.id, @post.id), method: :post, class: "py-2 px-3 border rounded-xl" do %>
        Like
      <% end %>
    </div>
  </article>

  <%= render partial: "shared/comments", locals: { comments: @post.comments } %>

  <%= form_with model: @comment, url: user_post_comments_path(@post.author.id, @post.id) do |f| %>
    <div class="border p-3 flex flex-col gap-2">
      <h2 class="text-xl">Create a new comment</h2>
      <div>
        <%= f.label :text, "Comment", class: "sr-only" %>
        <%= f.text_area :text, required: true, class: "w-full p-2 border" %>
      </div>
      <%= f.submit "Post Comment", class: "self-end py-2 px-3 border rounded-xl" %>
    </div>
  <% end %>
</div>
